(this.webpackJsonpchefmate=this.webpackJsonpchefmate||[]).push([[0],{322:function(e,t,n){e.exports=n.p+"static/media/ChefMate.bc7cd4ee.png"},335:function(e,t,n){e.exports=n(369)},340:function(e,t,n){},345:function(e,t){},346:function(e,t){},354:function(e,t){},357:function(e,t){},358:function(e,t){},359:function(e,t){},360:function(e,t,n){},369:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),o=n(84),r=n.n(o),l=(n(340),n(368),n(318)),s=n(319),c=n(320),d=n.n(c),g=(n(360),n(321)),u=n(262);const m={thumb:[0,1,2,3,4],indexFinger:[0,5,6,7,8],middleFinger:[0,9,10,11,12],ringFinger:[0,13,14,15,16],pinky:[0,17,18,19,20]},p={0:{color:"yellow",size:15},1:{color:"gold",size:6},2:{color:"green",size:10},3:{color:"gold",size:6},4:{color:"gold",size:6},5:{color:"purple",size:10},6:{color:"gold",size:6},7:{color:"gold",size:6},8:{color:"gold",size:6},9:{color:"blue",size:10},10:{color:"gold",size:6},11:{color:"gold",size:6},12:{color:"gold",size:6},13:{color:"red",size:10},14:{color:"gold",size:6},15:{color:"gold",size:6},16:{color:"gold",size:6},17:{color:"orange",size:10},18:{color:"gold",size:6},19:{color:"gold",size:6},20:{color:"gold",size:6}};var h=n(322),f=n.n(h),y=n(375),v=n(255),E=n(377),x=n(379),b=n(380),S=n(331),w=n(381),D=n(263),z=n.n(D),k=n(376);var O=function(){const e=Object(a.useRef)(null),t=Object(a.useRef)(null),[n,o]=Object(a.useState)(),[r,c]=Object(a.useState)(),[h,O]=Object(a.useState)([]),[j,B]=Object(a.useState)([]),[T,I]=Object(a.useState)([]),{transcript:A,listening:C,resetTranscript:M}=Object(D.useSpeechRecognition)(),[R,F]=Object(a.useState)(),[L,P]=Object(a.useState)(),[G,H]=Object(a.useState)(""),W=window.speechSynthesis,{Meta:N}=y.a,J=async n=>{if("undefined"!==typeof e.current&&null!==e.current&&4===e.current.video.readyState){const a=e.current.video,i=e.current.video.videoWidth,r=e.current.video.videoHeight;e.current.video.width=i,e.current.video.height=r,t.current.width=i,t.current.height=r;const l=await n.detect(a);l.forEach(e=>{const t=e.class;t&&"person"!==t&&(o(t),z.a.startListening())});((e,t)=>{e.forEach(e=>{if("person"!==e.class){const[n,a,i,o]=e.bbox,r=e.class,l="green";t.strokeSylt=l,t.font="18px Arial",t.fillStyle=l,t.beginPath(),t.fillText(r,n,a),t.rect(n,a,i,o),t.stroke()}})})(l,t.current.getContext("2d"))}},U=Object(a.useCallback)(()=>{k.a.get("https://api.spoonacular.com/recipes/findByIngredients?ingredients=apples,+banana,+sugar&number=4",{headers:{"x-api-key":"f0a27ba528854325870889a12fa44014"}}).then((function(e){I(t=>[...T,...e.data.map(e=>e)])})).catch((function(e){console.log(e)}))},[j]),_=async n=>{if("undefined"!==typeof e.current&&null!==e.current&&4===e.current.video.readyState){const a=e.current.video,i=e.current.video.videoWidth,o=e.current.video.videoHeight;e.current.video.width=i,e.current.video.height=o,t.current.width=i,t.current.height=o;const r=await n.estimateHands(a);if(r.length>0){const e=new g.GestureEstimator([u.Gestures.okGesture,u.Gestures.raisedHandGesture]),t=await e.estimate(r[0].landmarks,4);if(void 0!==t.gestures&&t.gestures.length>0){const e=t.gestures.map(e=>e.score),n=e.indexOf(Math.max.apply(null,e));t.gestures[n].score>7.5&&"ok"===t.gestures[n].name?F(!0):t.gestures[n].score>7.5&&"raised_hand"===t.gestures[n].name&&P(!0)}}((e,t)=>{e.length>0&&e.forEach(e=>{const n=e.landmarks;for(let a=0;a<Object.keys(m).length;a++){let e=Object.keys(m)[a];for(let a=0;a<m[e].length-1;a++){const i=m[e][a],o=m[e][a+1];t.beginPath(),t.moveTo(n[i][0],n[i][1]),t.lineTo(n[o][0],n[o][1]),t.strokeStyle="plum",t.lineWidth=4,t.stroke()}}for(let a=0;a<n.length;a++){const e=n[a][0],i=n[a][1];t.beginPath(),t.arc(e,i,p[a].size,0,3*Math.PI),t.fillStyle=p[a].color,t.fill()}})})(r,t.current.getContext("2d"))}};return Object(a.useEffect)(()=>{(async()=>{const e=await l.load();console.log("Coco model loaded."),setInterval(()=>{J(e)},10)})()},[]),Object(a.useEffect)(()=>{(async()=>{const e=await s.a();console.log("Handpose model loaded."),setInterval(()=>{_(e)},10)})()},[]),Object(a.useEffect)(()=>{A&&c(n+" "+A),F(!1),P(!1)},[A]),Object(a.useEffect)(()=>{if(!0===L&&h.includes(G)){O(h.filter(e=>e!==G)),B(j.filter(e=>e!==j.slice(-1)[0])),console.log(h.slice(-2)[0]);const e=new SpeechSynthesisUtterance(G+"Removed");e.rate=1,W.speak(e),H(),I([]),P(!1)}},[L]),Object(a.useEffect)(()=>{if(!0===R&&r){O([...h,r]),B([...j,n]);const e=new SpeechSynthesisUtterance(r+"Added");e.rate=1,W.speak(e),U(),H(r),o(),c(),F(!1)}},[R]),i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"Logo"},i.a.createElement("img",{src:f.a,alt:"Logo",style:{width:"10%"}})),i.a.createElement("div",{style:{position:"absolute",right:10}},i.a.createElement("div",{style:{height:100,width:300,border:"2px solid #B34D2D",display:"flex",flexDirection:"column",padding:10}},i.a.createElement("div",{style:{color:"#B34D2D",fontSize:"20px",marginTop:10}},"Draft"),i.a.createElement("div",{style:{color:"#B34D2D",marginTop:"20px",textAlign:"start"}},r)),i.a.createElement("div",{style:{height:380,width:300,border:"2px solid #B34D2D",display:"flex",flexDirection:"column",padding:10,marginTop:20}},i.a.createElement("div",{style:{color:"#B34D2D",fontSize:"20px",marginTop:10}},"Ingredients"),h.map(e=>i.a.createElement("div",{key:e,style:{color:"#B34D2D",marginTop:"20px",textAlign:"start"}},e)))),i.a.createElement("div",{style:{height:500,width:300,position:"absolute",left:10,border:"2px solid #B34D2D",display:"flex",flexDirection:"column",padding:10}},i.a.createElement("div",{style:{color:"#B34D2D",fontSize:"20px",marginTop:10}},"Instructions"),[{step:1,text:"Point the ingredients you have to the camera."},{step:2,text:"When the ingredient is detected say the amount to add it to the draft ."},{step:3,text:"Show \ud83d\udc4c to add into ingredients"},{step:4,text:"Show \u270b to remove an ingredient"},{step:5,text:"Select from Suggested Recipes"}].map(e=>i.a.createElement("div",{key:e.step,style:{color:"#B34D2D",marginTop:"20px",textAlign:"start"}},e.step," . ",e.text))),i.a.createElement("div",{style:{height:50}},C?i.a.createElement(v.a,{type:"primary",icon:i.a.createElement(x.a,null),style:{width:200,background:"#426B1F",margin:10}},"Microphone Status: On"):i.a.createElement(v.a,{type:"primary",icon:i.a.createElement(b.a,null),style:{width:200,background:"#B34D2D",margin:10}},"Microphone Status: Off"),i.a.createElement(v.a,{style:{color:"#426B1F",borderColor:"#426B1F",width:"200px"}},n," ",n?"Detected":"")),i.a.createElement("div",{className:"Canvas"},i.a.createElement(d.a,{ref:e,muted:!0,style:{position:"absolute",marginLeft:"auto",marginRight:"auto",left:0,right:0,textAlign:"center",zindex:9,width:640,height:480}}),i.a.createElement("canvas",{ref:t,style:{position:"absolute",marginLeft:"auto",marginRight:"auto",left:0,right:0,textAlign:"center",zindex:8,width:640,height:480}})),i.a.createElement("div",{style:{margin:"30px",display:"flex",flexDirection:"column",alignItems:"start"}},0!==T.length&&i.a.createElement("div",{style:{color:"#B34D2D",fontSize:"20px",marginLeft:20}},"Suggested Recipes"),i.a.createElement("div",{style:{display:"flex",flexDirection:"row",marginTop:20}},T.map(e=>i.a.createElement(y.a,{style:{width:200,marginLeft:20},cover:i.a.createElement("img",{alt:e.title,src:e.image}),actions:[i.a.createElement("div",null,i.a.createElement(S.a,{key:"select"})),i.a.createElement(E.a,{title:"Missing Ingredients",description:e.missedIngredients.map(e=>e.name),showCancel:!1,okButtonProps:{style:{display:"none"}},icon:i.a.createElement(i.a.Fragment,null)},i.a.createElement("div",null,i.a.createElement(w.a,{key:"missing"})))]},i.a.createElement(N,{title:e.title}))))))},j=n(267);const B=Object(j.b)([{path:"/",element:i.a.createElement(O,null)}]);r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(j.a,{router:B})),document.getElementById("root"))}},[[335,1,2]]]);
//# sourceMappingURL=main.8d2794b8.chunk.js.map